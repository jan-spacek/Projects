!function(){"use strict";function e(e,n,r,t,a){a("baseController",{$scope:e});var i=this;i.children=[],i.attendantChildren=[],i.waitingChildren=[],i.archivedChildren=[],i.classes=[],i.isBusy=!0,e.sortType="birthDate",n.get("/Api/Nursery/"+e.outerId).then(function(e){for(var n=0;n<e.data.classes.length;n++)i.classes[e.data.classes[n].id]=e.data.classes[n].name},function(e){toastr.error("Nepodarilo sa načítať zoznam detí")})["finally"](function(){i.isBusy=!1}),n.get("/Api/Nursery/"+e.outerId+"/children").then(function(e){angular.copy(e.data,i.children);for(var n=0;n<i.children.length;n++)i.children[n].fullName=i.children[n].firstName+" "+i.children[n].lastName,i.children[n].className=i.classes[i.children[n].classId],i.children[n].contacts&&(i.children[n].contacts=r.trustAsHtml(i.children[n].contacts.replace(/(\r\n|\n|\r)/gm,"<br />"))),i.children[n].description&&(i.children[n].description=r.trustAsHtml(i.children[n].description.replace(/(\r\n|\n|\r)/gm,"<br />"))),0==i.children[n].attendance?i.waitingChildren.push(i.children[n]):1==i.children[n].attendance?i.attendantChildren.push(i.children[n]):2==i.children[n].attendance&&i.archivedChildren.push(i.children[n])},function(e){toastr.error("Nepodarilo sa načítať zoznam detí")})["finally"](function(){i.isBusy=!1})}e.$inject=["$scope","$http","$sce","$window","$controller"],angular.module("nursery-app").controller("childrenListController",e)}();